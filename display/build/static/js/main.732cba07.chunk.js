(this["webpackJsonpffn-to-ao3-online"]=this["webpackJsonpffn-to-ao3-online"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),r=n(6),a=n.n(r),c=(n(13),n(2)),o=n.n(c),d=n(4),l=n(3),u=(n(15),n(7)),h=n(8),f="growing puppies,giving hugs,reading books,cracking knuckles,getting a sorting hat,abracadaboasidruoshdf,getting chapters,admiring your fic,kudoing,commenting,writing,studying Mars terrain,ctrl-Z-ing,finding sign of life,three two one sleep,looking for things in the attic,herding rodents,feeding robots,eating lunch,eating brunch,eating dinner,getting ink,praying for a miracle,hammering nails,setting up printer,pressing submit,petting dogs,losing Nemo,building Death Star,finding obi-wan,time-traveling".split(","),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,e),Object.assign(this.options={delay:2500,before:"",after:"..."},n),t&&(this.element=t)}return Object(h.a)(e,[{key:"messages",get:function(){return f.slice()},set:function(e){f=Array.from(e)}},{key:"start",value:function(){var e=this;return this._setLoadMessage(),this.timer=setInterval((function(){e._setLoadMessage()}),this.options.delay),this}},{key:"stop",value:function(){return clearInterval(this.timer),this}},{key:"get",value:function(e){for(var t=this.options,n=t.before,i=t.after;(e=this._rand())==this.last;);return n+f[this.last=e]+i}},{key:"_setLoadMessage",value:function(){return this.element&&(this.element.innerHTML=this.get()),this}},{key:"_rand",value:function(){return~~(Math.random()*f.length)}}]),e}(),j=n(0);var b=function(e){var t="/api/metadata/",n=(e[0],e[1]),s=e[2],r=Object(i.useState)(""),a=Object(l.a)(r,2),c=a[0],u=a[1],h=Object(i.useState)(""),f=Object(l.a)(h,2),b=f[0],m=f[1],g=Object(i.useState)([]),O=Object(l.a)(g,2),y=O[0],x=O[1],v=Object(i.useState)([]),w=Object(l.a)(v,2),k=w[0],L=w[1],I=Object(i.useState)(""),T=Object(l.a)(I,2),E=T[0],S=T[1];function A(){return B.apply(this,arguments)}function B(){return(B=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",n),t.append("url",s),e.next=5,fetch("/api/content/",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){x(e)}));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(d.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N("confirm"),(n=new FormData).append("url",s),e.next=5,fetch(t,{method:"post",body:n}).then((function(e){return e.json()})).then((function(e){L(e),A(),N("workInfo"),_("ao3Log")}));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N("ao3Log"),console.log("submitted!"),(n=new FormData).append("username",c),n.append("password",b),n.append("meta",JSON.stringify(k)),n.append("content",JSON.stringify(y)),J(),e.next=11,fetch("/api/AO3Login/",{method:"post",body:n}).then((function(e){return e.text()})).then((function(e){U(),"INVALID"===e?_("invalidLogin"):(S(e),_("newURL"),D(),_("ao3CardLink"),_("workInfo"),m(""))}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F,D=function(){var e=document.getElementById("metadata");e.innerHTML="",H(e,"fandom",k.fandom),H(e,"chapters",k.chapters),H(e,"summary",k.summary)},H=function(e,t,n){var i=document.createElement("p");i.innerText=t+": "+n,e.insertAdjacentElement("beforeend",i)},N=function(e){document.getElementById(e).style.display="none"},_=function(e){document.getElementById(e).style.display=""},J=function(){_("loading"),_("note"),document.getElementById("loading").classList.add("loader");var e=new p(document.getElementById("loadText"));e.start(),F=setInterval((function(){document.getElementById("loadText").innerHTML=e.get()}),2e3)},U=function(){clearInterval(F),N("note"),N("loadText"),N("loading")};return Object(j.jsx)("div",{class:"container",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsxs)("div",{class:"col-sm-12 col-m-12 col-12",children:[Object(j.jsxs)("div",{id:"newURL",style:{display:"none"},children:["tada! ",Object(j.jsxs)("a",{href:E,children:[n," - ",c," - archiveofourown.com"]})]}),Object(j.jsx)("div",{id:"invalidLogin",style:{display:"none"},children:"Your password or username was wrong."}),Object(j.jsx)("div",{id:"workInfo",class:"card",style:{display:"none"},children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("h5",{class:"card-title",children:n}),Object(j.jsx)("h6",{class:"card-subtitle mb-2 text-muted",children:Object(j.jsxs)("a",{href:s,class:"card-link",children:["ff.net/",n]})}),Object(j.jsx)("h6",{id:"ao3CardLink",class:"card-subtitle mb-2 text-muted",style:{display:"none"},children:Object(j.jsxs)("a",{href:E,class:"card-link",children:["ao3.com/",n]})}),Object(j.jsx)("p",{id:"metadata",class:"card-text"}),Object(j.jsxs)("div",{id:"confirm",children:[Object(j.jsx)("p",{children:"is this the right story?"}),Object(j.jsx)("button",{class:"trans-btn",type:"submit",onClick:function(){return M.apply(this,arguments)},children:"this one alright"}),Object(j.jsx)("button",{class:"trans-btn",type:"cancel",onClick:function(){_("workList"),N("workInfo")},children:"no go back"})]})]})})]}),Object(j.jsx)("div",{id:"ao3Log",class:"col-sm-12 col-m-12 col-12",style:{display:"none"},children:Object(j.jsxs)("div",{class:"login",children:[Object(j.jsx)("p",{children:"Login to AO3"}),Object(j.jsxs)("form",{id:"ao3Form",onSubmit:function(e){return C.apply(this,arguments)},children:[Object(j.jsxs)("p",{children:["AO3 Username:",Object(j.jsx)("input",{class:"input",type:"username",name:"userAO3",id:"userAO3",onChange:function(e){return u(e.target.value)}})]}),Object(j.jsxs)("p",{children:["AO3 Password:",Object(j.jsx)("input",{class:"input",type:"password",name:"passwordAO3",id:"passwordAO3",onChange:function(e){return m(e.target.value)}})]}),Object(j.jsx)("button",{class:"trans-btn",type:"submit",children:"Log In"})]})]})}),Object(j.jsx)("div",{id:"loading",style:{color:"black",paddingBottom:"1%",fontSize:"30px",display:"none"},children:"."}),Object(j.jsx)("div",{id:"loadText"}),Object(j.jsx)("div",{id:"note",style:{display:"none"},children:Object(j.jsxs)("p",{id:"timeText",children:[Object(j.jsx)("br",{}),"To prevent overloading the server, each chapter takes 1 to 2 secs to be uploaded.",Object(j.jsx)("br",{}),"If your work is like 100 chapters, ah man....",Object(j.jsx)("br",{}),Object(j.jsx)("br",{})]})})]})})};var m=function(){var e=Object(i.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(i.useState)([]),a=Object(l.a)(r,2),c=a[0],u=a[1],h=[];function f(){return(f=Object(d.a)(o.a.mark((function e(t){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O("greeting"),O("reload"),g("ffn-user"),(i=new FormData).append("username",n),e.next=8,fetch("/api/ffn/",{method:"post",body:i}).then((function(e){return e.json()})).then((function(e){h=e,p()}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(){g("submitBtn");var e=Object.keys(h).length/2,t=document.getElementById("workList");if(0==e)t.innerHTML="<b>Empty or Invalid user</b><br/><p class='tinyText'>unless this is what you want...? weird flex but ok</p>";else{t.innerHTML="<b>Select a work:</b>";for(var n=0;n<e;n++)m(t,n+1,h[2*n])}},m=function(e,t,n){var i=document.createElement("div");i.id=t,i.className="workTitle",i.innerHTML=t+". "+n,i.onclick=function(){!function(e){y.apply(this,arguments)}(t-1)},e.insertAdjacentElement("beforeend",i)},g=function(e){document.getElementById(e).style.display="none"},O=function(e){document.getElementById(e).style.display=""};function y(){return(y=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[t,h[2*t],h[2*t+1]],u(n),g("workList"),O("workInfo");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"HELLO"}),Object(j.jsxs)("p",{id:"intro",children:["Welcome to FTO3, transferring works on ",Object(j.jsx)("a",{href:"https://www.fanfiction.net/",children:"fanfiction.net"})," to ",Object(j.jsx)("a",{href:"https://archiveofourown.org/",children:"archiveofourown"}),".",Object(j.jsx)("br",{})," psst don't forget to go update that fic you haven't updated in like, 5 years."]}),Object(j.jsxs)("p",{id:"greeting",style:{display:"none"},children:["currently browsing as ",Object(j.jsx)("b",{children:n})," (ffn)"]}),Object(j.jsx)("div",{id:"reload",style:{display:"none"},children:Object(j.jsx)("button",{class:"trans-btn",onClick:function(){return window.location.reload(!1)},children:"start over"})}),Object(j.jsxs)("form",{id:"ffn-user",onSubmit:function(e){return f.apply(this,arguments)},children:[Object(j.jsxs)("p",{children:["Your Fanfiction.net Username: ",Object(j.jsx)("br",{}),Object(j.jsx)("input",{class:"input",id:"username",type:"username",name:"username",onChange:function(e){return s(e.target.value)}})]}),Object(j.jsx)("button",{class:"trans-btn",id:"submitBtn",type:"submit",children:"search"})]}),Object(j.jsxs)("div",{id:"mainDisplay",children:[Object(j.jsx)("div",{id:"workList",style:{textAlign:"left"}}),b(c),Object(j.jsx)("div",{id:"mainWork"})]}),Object(j.jsx)("a",{id:"credit",href:"https://github.com/clostone/ffnToAO3",children:"@clostone"})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),s(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),g()}},[[17,1,2]]]);
//# sourceMappingURL=main.732cba07.chunk.js.map